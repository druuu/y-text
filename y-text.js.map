{"version":3,"sources":["../yjs/node_modules/browserify/node_modules/browser-pack/_prelude.js","src/Text.js","y-text.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","_typeof","obj","Symbol","constructor","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","value","enumerable","writable","configurable","setPrototypeOf","__proto__","extend","Y","requestModules","then","YText","_Y$Array$class","os","_model","_content","this","_this","getPrototypeOf","textfields","aceInstances","_createClass","key","map","c","val","join","pos","content","_get","split","ace","options","mutualExcluse","token","setMarker","start","end","klazz","disableMarkers","offset","row","column","range","Range","marker","session","addMarker","markers","push","id","timestamp","Date","now","setValue","toString","on","delta","aceDocument","getSession","getDocument","action","positionToIndex","insert","lines","inteval","clearInterval","setInterval","timeVisible","removeMarker","splice","window","observe","events","event","type","indexToPosition","index","remove","arguments","Element","bindTextarea","apply","bindAce","console","error","textfield","domRoot","getSelection","creatorToken","word","createRange","writeRange","writeContent","selectionStart","setSelectionRange","fix","left","right","selectionEnd","clength","textContent","Math","min","anchorOffset","focusOffset","editedElement","focusNode","childNodes","isReal","textnode","max","document","setStart","setEnd","removeAllRanges","addRange","contentArray","replace","RegExp","innerText","innerHTML","oPos","cursor","onkeypress","is_deleted","char","keyCode","charCode","String","fromCharCode","diff","abs","preventDefault","onpaste","oncut","onkeydown","ctrlKey","newPos","delLength","Array","utils","CustomType","name","class","struct","initType","regeneratorRuntime","mark","YTextInitializer","model","wrap","_context","prev","next","delegateYield","Struct","List","JSON","stringify","t0","abrupt","stop","defineProperties","target","props","descriptor","defineProperty","protoProps","staticProps","get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","undefined","parent","getter"],"mappings":"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","file":"y-text.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/* global Y, Element */\n'use strict'\n\nfunction extend (Y) {\n  Y.requestModules(['Array']).then(function () {\n    class YText extends Y.Array['class'] {\n      constructor (os, _model, _content) {\n        super(os, _model, _content)\n        this.textfields = []\n        this.aceInstances = []\n      }\n      toString () {\n        return this._content.map(function (c) {\n          return c.val\n        }).join('')\n      }\n      insert (pos, content) {\n        super.insert(pos, content.split(''))\n      }\n      bindAce (ace, options) {\n        this.aceInstances.push(ace)\n        var self = this\n\n        // this function makes sure that either the\n        // ace event is executed, or the yjs observer is executed\n        var token = true\n        function mutualExcluse (f) {\n          if (token) {\n            token = false\n            try {\n              f()\n            } catch (e) {\n              token = true\n              throw new Error(e)\n            }\n            token = true\n          }\n        }\n        ace.markers = []\n        var disableMarkers = false\n\n        if (typeof options === 'object') {\n          if (typeof options.disableMarkers !== 'undefined') {\n            disableMarkers = options.disableMarkers\n          }\n        }\n\n        ace.setValue(this.toString())\n\n        ace.on('change', function (delta) {\n          mutualExcluse(function () {\n            var start = 0\n            var length = 0\n\n            var aceDocument = ace.getSession().getDocument()\n            if (delta.action === 'insert') {\n              start = aceDocument.positionToIndex(delta.start, 0)\n              self.insert(start, delta.lines.join('\\n'))\n            } else if (delta.action === 'remove') {\n              start = aceDocument.positionToIndex(delta.start, 0)\n              length = delta.lines.join('\\n').length\n              self.delete(start, length)\n            }\n          })\n        })\n        if (!disableMarkers) {\n          if (this.inteval) {\n            clearInterval(this.inteval)\n          }\n          this.inteval = setInterval(function () {\n            var i = 0\n            var now = Date.now()\n            var timeVisible = 800\n\n            while (i < ace.markers.length) {\n              var marker = ace.markers[i]\n\n              if (marker.timestamp + timeVisible < now) {\n                ace.getSession().removeMarker(marker.id)\n                ace.markers.splice(i, 1)\n                i--\n              }\n              i++\n            }\n          }, 1000)\n        }\n        var Range = window.ace.require('ace/range').Range\n        function setMarker (start, end, klazz) {\n          if (disableMarkers) {\n            return\n          }\n          var offset = 0\n          if (start.row === end.row && start.column === end.column) {\n            offset = 1\n          }\n          var range = new Range(start.row, start.column, end.row, end.column + offset)\n          var marker = ace.session.addMarker(range, klazz, 'text')\n          ace.markers.push({id: marker, timestamp: Date.now()})\n        }\n\n        this.observe(function (events) {\n          var aceDocument = ace.getSession().getDocument()\n          mutualExcluse(function () {\n            for (var i = 0; i < events.length; i++) {\n              var event = events[i]\n              if (event.type === 'insert') {\n                let start = aceDocument.indexToPosition(event.index, 0)\n                let end = aceDocument.indexToPosition(event.index + event.value.length, 0)\n                aceDocument.insert(start, event.value)\n\n                setMarker(start, end, 'inserted')\n              } else if (event.type === 'delete') {\n                let start = aceDocument.indexToPosition(event.index, 0)\n                let end = aceDocument.indexToPosition(event.index + event.length, 0)\n                var range = new Range(start.row, start.column, end.row, end.column)\n                aceDocument.remove(range)\n\n                setMarker(start, end, 'deleted')\n              }\n            }\n          })\n        })\n      }\n      bind () {\n        var e = arguments[0]\n        if (e instanceof Element) {\n          this.bindTextarea.apply(this, arguments)\n        } else if (e != null && e.session != null && e.getSession != null && e.setValue != null) {\n          this.bindAce.apply(this, arguments)\n        } else {\n          console.error('Cannot bind, unsupported editor!')\n        }\n      }\n      bindTextarea (textfield, domRoot) {\n        domRoot = domRoot || window; // eslint-disable-line\n        if (domRoot.getSelection == null) {\n          domRoot = window; // eslint-disable-line\n        }\n\n        // don't duplicate!\n        for (var t in this.textfields) {\n          if (this.textfields[t] === textfield) {\n            return\n          }\n        }\n        var creatorToken = false\n\n        var word = this\n        textfield.value = this.toString()\n        this.textfields.push(textfield)\n        var createRange, writeRange, writeContent\n        if (textfield.selectionStart != null && textfield.setSelectionRange != null) {\n          createRange = function (fix) {\n            var left = textfield.selectionStart\n            var right = textfield.selectionEnd\n            if (fix != null) {\n              left = fix(left)\n              right = fix(right)\n            }\n            return {\n              left: left,\n              right: right\n            }\n          }\n          writeRange = function (range) {\n            writeContent(word.toString())\n            textfield.setSelectionRange(range.left, range.right)\n          }\n          writeContent = function (content) {\n            textfield.value = content\n          }\n        } else {\n          createRange = function (fix) {\n            var range = {}\n            var s = domRoot.getSelection()\n            var clength = textfield.textContent.length\n            range.left = Math.min(s.anchorOffset, clength)\n            range.right = Math.min(s.focusOffset, clength)\n            if (fix != null) {\n              range.left = fix(range.left)\n              range.right = fix(range.right)\n            }\n            var editedElement = s.focusNode\n            if (editedElement === textfield || editedElement === textfield.childNodes[0]) {\n              range.isReal = true\n            } else {\n              range.isReal = false\n            }\n            return range\n          }\n\n          writeRange = function (range) {\n            writeContent(word.toString())\n            var textnode = textfield.childNodes[0]\n            if (range.isReal && textnode != null) {\n              if (range.left < 0) {\n                range.left = 0\n              }\n              range.right = Math.max(range.left, range.right)\n              if (range.right > textnode.length) {\n                range.right = textnode.length\n              }\n              range.left = Math.min(range.left, range.right)\n              var r = document.createRange(); // eslint-disable-line\n              r.setStart(textnode, range.left)\n              r.setEnd(textnode, range.right)\n              var s = window.getSelection(); // eslint-disable-line\n              s.removeAllRanges()\n              s.addRange(r)\n            }\n          }\n          writeContent = function (content) {\n            var contentArray = content.replace(new RegExp('\\n', 'g'), ' ').split(' '); // eslint-disable-line\n            textfield.innerText = ''\n            for (var i in contentArray) {\n              var c = contentArray[i]\n              textfield.innerText += c\n              if (i !== contentArray.length - 1) {\n                textfield.innerHTML += '&nbsp;'\n              }\n            }\n          }\n        }\n        writeContent(this.toString())\n\n        this.observe(function (events) {\n          for (var e in events) {\n            var event = events[e]\n            if (!creatorToken) {\n              var oPos, fix\n              if (event.type === 'insert') {\n                oPos = event.index\n                fix = function (cursor) { // eslint-disable-line\n                  if (cursor <= oPos) {\n                    return cursor\n                  } else {\n                    cursor += 1\n                    return cursor\n                  }\n                }\n                var r = createRange(fix)\n                writeRange(r)\n              } else if (event.type === 'delete') {\n                oPos = event.index\n                fix = function (cursor) { // eslint-disable-line\n                  if (cursor < oPos) {\n                    return cursor\n                  } else {\n                    cursor -= 1\n                    return cursor\n                  }\n                }\n                r = createRange(fix)\n                writeRange(r)\n              }\n            }\n          }\n        })\n        // consume all text-insert changes.\n        textfield.onkeypress = function (event) {\n          if (word.is_deleted) {\n            // if word is deleted, do not do anything ever again\n            textfield.onkeypress = null\n            return true\n          }\n          creatorToken = true\n          var char\n          if (event.keyCode === 13) {\n            char = '\\n'\n          } else if (event.key != null) {\n            if (event.charCode === 32) {\n              char = ' '\n            } else {\n              char = event.key\n            }\n          } else {\n            char = window.String.fromCharCode(event.keyCode); // eslint-disable-line\n          }\n          if (char.length > 1) {\n            return true\n          } else if (char.length > 0) {\n            var r = createRange()\n            var pos = Math.min(r.left, r.right, word.length)\n            var diff = Math.abs(r.right - r.left)\n            word.delete(pos, diff)\n            word.insert(pos, char)\n            r.left = pos + char.length\n            r.right = r.left\n            writeRange(r)\n          }\n          event.preventDefault()\n          creatorToken = false\n          return false\n        }\n        textfield.onpaste = function (event) {\n          if (word.is_deleted) {\n            // if word is deleted, do not do anything ever again\n            textfield.onpaste = null\n            return true\n          }\n          event.preventDefault()\n        }\n        textfield.oncut = function (event) {\n          if (word.is_deleted) {\n            // if word is deleted, do not do anything ever again\n            textfield.oncut = null\n            return true\n          }\n          event.preventDefault()\n        }\n        //\n        // consume deletes. Note that\n        //   chrome: won't consume deletions on keypress event.\n        //   keyCode is deprecated. BUT: I don't see another way.\n        //     since event.key is not implemented in the current version of chrome.\n        //     Every browser supports keyCode. Let's stick with it for now..\n        //\n        textfield.onkeydown = function (event) {\n          creatorToken = true\n          if (word.is_deleted) {\n            // if word is deleted, do not do anything ever again\n            textfield.onkeydown = null\n            return true\n          }\n          var r = createRange()\n          var pos = Math.min(r.left, r.right, word.toString().length)\n          var diff = Math.abs(r.left - r.right)\n          if (event.keyCode != null && event.keyCode === 8) { // Backspace\n            if (diff > 0) {\n              word.delete(pos, diff)\n              r.left = pos\n              r.right = pos\n              writeRange(r)\n            } else {\n              if (event.ctrlKey != null && event.ctrlKey) {\n                var val = word.toString()\n                var newPos = pos\n                var delLength = 0\n                if (pos > 0) {\n                  newPos--\n                  delLength++\n                }\n                while (newPos > 0 && val[newPos] !== ' ' && val[newPos] !== '\\n') {\n                  newPos--\n                  delLength++\n                }\n                word.delete(newPos, pos - newPos)\n                r.left = newPos\n                r.right = newPos\n                writeRange(r)\n              } else {\n                if (pos > 0) {\n                  word.delete(pos - 1, 1)\n                  r.left = pos - 1\n                  r.right = pos - 1\n                  writeRange(r)\n                }\n              }\n            }\n            event.preventDefault()\n            creatorToken = false\n            return false\n          } else if (event.keyCode != null && event.keyCode === 46) { // Delete\n            if (diff > 0) {\n              word.delete(pos, diff)\n              r.left = pos\n              r.right = pos\n              writeRange(r)\n            } else {\n              word.delete(pos, 1)\n              r.left = pos\n              r.right = pos\n              writeRange(r)\n            }\n            event.preventDefault()\n            creatorToken = false\n            return false\n          } else {\n            creatorToken = false\n            return true\n          }\n        }\n      }\n    }\n    Y.extend('Text', new Y.utils.CustomType({\n      name: 'Text',\n      class: YText,\n      struct: 'List',\n      initType: function * YTextInitializer (os, model) {\n        var _content = yield* Y.Struct.List.map.call(this, model, function (c) {\n          return {\n            id: JSON.stringify(c.id),\n            val: c.content\n          }\n        })\n        return new YText(os, model.id, _content)\n      }\n    }))\n  })\n}\n\nmodule.exports = extend\nif (typeof Y !== 'undefined') {\n  extend(Y)\n}\n","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n/* global Y, Element */\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nfunction _typeof(obj) { return obj && typeof Symbol !== \"undefined\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction extend(Y) {\n  Y.requestModules(['Array']).then(function () {\n    var YText = (function (_Y$Array$class) {\n      _inherits(YText, _Y$Array$class);\n\n      function YText(os, _model, _content) {\n        _classCallCheck(this, YText);\n\n        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(YText).call(this, os, _model, _content));\n\n        _this.textfields = [];\n        _this.aceInstances = [];\n        return _this;\n      }\n\n      _createClass(YText, [{\n        key: 'toString',\n        value: function toString() {\n          return this._content.map(function (c) {\n            return c.val;\n          }).join('');\n        }\n      }, {\n        key: 'insert',\n        value: function insert(pos, content) {\n          _get(Object.getPrototypeOf(YText.prototype), 'insert', this).call(this, pos, content.split(''));\n        }\n      }, {\n        key: 'bindAce',\n        value: function bindAce(ace, options) {\n          this.aceInstances.push(ace);\n          var self = this;\n\n          // this function makes sure that either the\n          // ace event is executed, or the yjs observer is executed\n          var token = true;\n          function mutualExcluse(f) {\n            if (token) {\n              token = false;\n              try {\n                f();\n              } catch (e) {\n                token = true;\n                throw new Error(e);\n              }\n              token = true;\n            }\n          }\n          ace.markers = [];\n          var disableMarkers = false;\n\n          if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') {\n            if (typeof options.disableMarkers !== 'undefined') {\n              disableMarkers = options.disableMarkers;\n            }\n          }\n\n          ace.setValue(this.toString());\n\n          ace.on('change', function (delta) {\n            mutualExcluse(function () {\n              var start = 0;\n              var length = 0;\n\n              var aceDocument = ace.getSession().getDocument();\n              if (delta.action === 'insert') {\n                start = aceDocument.positionToIndex(delta.start, 0);\n                self.insert(start, delta.lines.join('\\n'));\n              } else if (delta.action === 'remove') {\n                start = aceDocument.positionToIndex(delta.start, 0);\n                length = delta.lines.join('\\n').length;\n                self.delete(start, length);\n              }\n            });\n          });\n          if (!disableMarkers) {\n            if (this.inteval) {\n              clearInterval(this.inteval);\n            }\n            this.inteval = setInterval(function () {\n              var i = 0;\n              var now = Date.now();\n              var timeVisible = 800;\n\n              while (i < ace.markers.length) {\n                var marker = ace.markers[i];\n\n                if (marker.timestamp + timeVisible < now) {\n                  ace.getSession().removeMarker(marker.id);\n                  ace.markers.splice(i, 1);\n                  i--;\n                }\n                i++;\n              }\n            }, 1000);\n          }\n          var Range = window.ace.require('ace/range').Range;\n          function setMarker(start, end, klazz) {\n            if (disableMarkers) {\n              return;\n            }\n            var offset = 0;\n            if (start.row === end.row && start.column === end.column) {\n              offset = 1;\n            }\n            var range = new Range(start.row, start.column, end.row, end.column + offset);\n            var marker = ace.session.addMarker(range, klazz, 'text');\n            ace.markers.push({ id: marker, timestamp: Date.now() });\n          }\n\n          this.observe(function (events) {\n            var aceDocument = ace.getSession().getDocument();\n            mutualExcluse(function () {\n              for (var i = 0; i < events.length; i++) {\n                var event = events[i];\n                if (event.type === 'insert') {\n                  var start = aceDocument.indexToPosition(event.index, 0);\n                  var end = aceDocument.indexToPosition(event.index + event.value.length, 0);\n                  aceDocument.insert(start, event.value);\n\n                  setMarker(start, end, 'inserted');\n                } else if (event.type === 'delete') {\n                  var start = aceDocument.indexToPosition(event.index, 0);\n                  var end = aceDocument.indexToPosition(event.index + event.length, 0);\n                  var range = new Range(start.row, start.column, end.row, end.column);\n                  aceDocument.remove(range);\n\n                  setMarker(start, end, 'deleted');\n                }\n              }\n            });\n          });\n        }\n      }, {\n        key: 'bind',\n        value: function bind() {\n          var e = arguments[0];\n          if (e instanceof Element) {\n            this.bindTextarea.apply(this, arguments);\n          } else if (e != null && e.session != null && e.getSession != null && e.setValue != null) {\n            this.bindAce.apply(this, arguments);\n          } else {\n            console.error('Cannot bind, unsupported editor!');\n          }\n        }\n      }, {\n        key: 'bindTextarea',\n        value: function bindTextarea(textfield, domRoot) {\n          domRoot = domRoot || window; // eslint-disable-line\n          if (domRoot.getSelection == null) {\n            domRoot = window; // eslint-disable-line\n          }\n\n          // don't duplicate!\n          for (var t in this.textfields) {\n            if (this.textfields[t] === textfield) {\n              return;\n            }\n          }\n          var creatorToken = false;\n\n          var word = this;\n          textfield.value = this.toString();\n          this.textfields.push(textfield);\n          var createRange, writeRange, writeContent;\n          if (textfield.selectionStart != null && textfield.setSelectionRange != null) {\n            createRange = function (fix) {\n              var left = textfield.selectionStart;\n              var right = textfield.selectionEnd;\n              if (fix != null) {\n                left = fix(left);\n                right = fix(right);\n              }\n              return {\n                left: left,\n                right: right\n              };\n            };\n            writeRange = function (range) {\n              writeContent(word.toString());\n              textfield.setSelectionRange(range.left, range.right);\n            };\n            writeContent = function (content) {\n              textfield.value = content;\n            };\n          } else {\n            createRange = function (fix) {\n              var range = {};\n              var s = domRoot.getSelection();\n              var clength = textfield.textContent.length;\n              range.left = Math.min(s.anchorOffset, clength);\n              range.right = Math.min(s.focusOffset, clength);\n              if (fix != null) {\n                range.left = fix(range.left);\n                range.right = fix(range.right);\n              }\n              var editedElement = s.focusNode;\n              if (editedElement === textfield || editedElement === textfield.childNodes[0]) {\n                range.isReal = true;\n              } else {\n                range.isReal = false;\n              }\n              return range;\n            };\n\n            writeRange = function (range) {\n              writeContent(word.toString());\n              var textnode = textfield.childNodes[0];\n              if (range.isReal && textnode != null) {\n                if (range.left < 0) {\n                  range.left = 0;\n                }\n                range.right = Math.max(range.left, range.right);\n                if (range.right > textnode.length) {\n                  range.right = textnode.length;\n                }\n                range.left = Math.min(range.left, range.right);\n                var r = document.createRange(); // eslint-disable-line\n                r.setStart(textnode, range.left);\n                r.setEnd(textnode, range.right);\n                var s = window.getSelection(); // eslint-disable-line\n                s.removeAllRanges();\n                s.addRange(r);\n              }\n            };\n            writeContent = function (content) {\n              var contentArray = content.replace(new RegExp('\\n', 'g'), ' ').split(' '); // eslint-disable-line\n              textfield.innerText = '';\n              for (var i in contentArray) {\n                var c = contentArray[i];\n                textfield.innerText += c;\n                if (i !== contentArray.length - 1) {\n                  textfield.innerHTML += '&nbsp;';\n                }\n              }\n            };\n          }\n          writeContent(this.toString());\n\n          this.observe(function (events) {\n            for (var e in events) {\n              var event = events[e];\n              if (!creatorToken) {\n                var oPos, fix;\n                if (event.type === 'insert') {\n                  oPos = event.index;\n                  fix = function (cursor) {\n                    // eslint-disable-line\n                    if (cursor <= oPos) {\n                      return cursor;\n                    } else {\n                      cursor += 1;\n                      return cursor;\n                    }\n                  };\n                  var r = createRange(fix);\n                  writeRange(r);\n                } else if (event.type === 'delete') {\n                  oPos = event.index;\n                  fix = function (cursor) {\n                    // eslint-disable-line\n                    if (cursor < oPos) {\n                      return cursor;\n                    } else {\n                      cursor -= 1;\n                      return cursor;\n                    }\n                  };\n                  r = createRange(fix);\n                  writeRange(r);\n                }\n              }\n            }\n          });\n          // consume all text-insert changes.\n          textfield.onkeypress = function (event) {\n            if (word.is_deleted) {\n              // if word is deleted, do not do anything ever again\n              textfield.onkeypress = null;\n              return true;\n            }\n            creatorToken = true;\n            var char;\n            if (event.keyCode === 13) {\n              char = '\\n';\n            } else if (event.key != null) {\n              if (event.charCode === 32) {\n                char = ' ';\n              } else {\n                char = event.key;\n              }\n            } else {\n              char = window.String.fromCharCode(event.keyCode); // eslint-disable-line\n            }\n            if (char.length > 1) {\n              return true;\n            } else if (char.length > 0) {\n              var r = createRange();\n              var pos = Math.min(r.left, r.right, word.length);\n              var diff = Math.abs(r.right - r.left);\n              word.delete(pos, diff);\n              word.insert(pos, char);\n              r.left = pos + char.length;\n              r.right = r.left;\n              writeRange(r);\n            }\n            event.preventDefault();\n            creatorToken = false;\n            return false;\n          };\n          textfield.onpaste = function (event) {\n            if (word.is_deleted) {\n              // if word is deleted, do not do anything ever again\n              textfield.onpaste = null;\n              return true;\n            }\n            event.preventDefault();\n          };\n          textfield.oncut = function (event) {\n            if (word.is_deleted) {\n              // if word is deleted, do not do anything ever again\n              textfield.oncut = null;\n              return true;\n            }\n            event.preventDefault();\n          };\n          //\n          // consume deletes. Note that\n          //   chrome: won't consume deletions on keypress event.\n          //   keyCode is deprecated. BUT: I don't see another way.\n          //     since event.key is not implemented in the current version of chrome.\n          //     Every browser supports keyCode. Let's stick with it for now..\n          //\n          textfield.onkeydown = function (event) {\n            creatorToken = true;\n            if (word.is_deleted) {\n              // if word is deleted, do not do anything ever again\n              textfield.onkeydown = null;\n              return true;\n            }\n            var r = createRange();\n            var pos = Math.min(r.left, r.right, word.toString().length);\n            var diff = Math.abs(r.left - r.right);\n            if (event.keyCode != null && event.keyCode === 8) {\n              // Backspace\n              if (diff > 0) {\n                word.delete(pos, diff);\n                r.left = pos;\n                r.right = pos;\n                writeRange(r);\n              } else {\n                if (event.ctrlKey != null && event.ctrlKey) {\n                  var val = word.toString();\n                  var newPos = pos;\n                  var delLength = 0;\n                  if (pos > 0) {\n                    newPos--;\n                    delLength++;\n                  }\n                  while (newPos > 0 && val[newPos] !== ' ' && val[newPos] !== '\\n') {\n                    newPos--;\n                    delLength++;\n                  }\n                  word.delete(newPos, pos - newPos);\n                  r.left = newPos;\n                  r.right = newPos;\n                  writeRange(r);\n                } else {\n                  if (pos > 0) {\n                    word.delete(pos - 1, 1);\n                    r.left = pos - 1;\n                    r.right = pos - 1;\n                    writeRange(r);\n                  }\n                }\n              }\n              event.preventDefault();\n              creatorToken = false;\n              return false;\n            } else if (event.keyCode != null && event.keyCode === 46) {\n              // Delete\n              if (diff > 0) {\n                word.delete(pos, diff);\n                r.left = pos;\n                r.right = pos;\n                writeRange(r);\n              } else {\n                word.delete(pos, 1);\n                r.left = pos;\n                r.right = pos;\n                writeRange(r);\n              }\n              event.preventDefault();\n              creatorToken = false;\n              return false;\n            } else {\n              creatorToken = false;\n              return true;\n            }\n          };\n        }\n      }]);\n\n      return YText;\n    })(Y.Array['class']);\n\n    Y.extend('Text', new Y.utils.CustomType({\n      name: 'Text',\n      class: YText,\n      struct: 'List',\n      initType: regeneratorRuntime.mark(function YTextInitializer(os, model) {\n        var _content;\n\n        return regeneratorRuntime.wrap(function YTextInitializer$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.delegateYield(Y.Struct.List.map.call(this, model, function (c) {\n                  return {\n                    id: JSON.stringify(c.id),\n                    val: c.content\n                  };\n                }), 't0', 1);\n\n              case 1:\n                _content = _context.t0;\n                return _context.abrupt('return', new YText(os, model.id, _content));\n\n              case 3:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, YTextInitializer, this);\n      })\n    }));\n  });\n}\n\nmodule.exports = extend;\nif (typeof Y !== 'undefined') {\n  extend(Y);\n}\n\n},{}]},{},[1])\n\n"],"sourceRoot":"/source/"}